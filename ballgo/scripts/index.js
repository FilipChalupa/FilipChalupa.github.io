!function(t){"use strict";var e,i,n,r,o,s={".js":[".coffee",".jsx",".es6",".es"],".json":[],".css":[],".html":[]},a="function"==typeof require?require:null;return r=function(t){var e=new Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},o=function(t,e,i){var n,r;if("function"==typeof t[e+i])return e+i;for(n=0;r=s[i][n];++n)if("function"==typeof t[e+r])return e+r;return null},e=function(t,n,s,a,u,c){var l,h,f,p,d,y;for(s=s.split(/[\\/]/),l=s.pop(),"."!==l&&".."!==l||(s.push(l),l="");null!=(h=s.shift());)if(h&&"."!==h&&(".."===h?(t=n.pop(),c=c.slice(0,c.lastIndexOf("/"))):(n.push(t),t=t[h],c+="/"+h),!t))throw r(a);if(l&&"function"!=typeof t[l]&&(y=o(t,l,".js"),y||(y=o(t,l,".json")),y||(y=o(t,l,".css")),y||(y=o(t,l,".html")),y?l=y:2!==u&&"object"==typeof t[l]&&(n.push(t),t=t[l],c+="/"+l,l="")),!l)return 1!==u&&t[":mainpath:"]?e(t,n,t[":mainpath:"],a,1,c):e(t,n,"index",a,2,c);if(d=t[l],!d)throw r(a);return d.hasOwnProperty("module")?d.module.exports:(f={},d.module=p={exports:f,id:c+"/"+l},d.call(f,f,p,i(t,n,c)),p.exports)},n=function(i,n,o,s){var u,c=o,l=o.charAt(0),h=0;if("/"===l){if(c=c.slice(1),i=t["/"],!i){if(a)return a(o);throw r(o)}s="/",n=[]}else if("."!==l){if(u=c.split("/",1)[0],i=t[u],!i){if(a)return a(o);throw r(o)}s=u,n=[],c=c.slice(u.length+1),c||(c=i[":mainpath:"],c?h=1:(c="index",h=2))}return e(i,n,c,o,h,s)},(i=function(t,e,i){return function(r){return n(t,[].concat(e),r,i)}})(t,[],"")}({ballgo:{src:{scripts:{components:{"component.es6":function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=window.jQuery,s=/^(\S+)\s*(.*)$/,a=function(){function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n(this,t),this.el=e,this.$el=o(e),this.data=i,this.attachListeners()}return r(t,[{key:"attachListeners",value:function(){var t=this,e=this,i=this.listeners,n=function(n){var r=n.trim(),o=!1,a=t[i[n]],u=n.match(s);u&&(r=u[1],o=u[2]);var c=function(t,i){a(t,e,i)};o?t.$el.on(r,o,c):t.$el.on(r,c)};for(var r in i)n(r)}},{key:"detachListeners",value:function(){this.$el.off()}},{key:"destroy",value:function(){this.detachListeners();for(var t in this)this[t]=null}},{key:"child",value:function(t){var e=this.$el.find(t);return e.length?e.eq(0):null}},{key:"listeners",get:function(){return{}}}]),t}();e.exports=a},"example.es6":function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}},a=i("./component"),u=function(t){function e(){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),o(e,[{key:"handleClick",value:function(t,e){t.preventDefault(),alert(e.data)}},{key:"listeners",get:function(){return{"click .example-child":"handleClick"}}}]),e}(a);e.exports=u},objects:{"ball.es6":function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}},a=i("./circle"),u=i("./tail"),c=function(t){function e(){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.radius=25,this.color=this.randomColor(),this.field={width:100,height:100},this.friction=1,this.acceleration=2,this.speed={x:0,y:0},this.maxSpeed=15,this.tail=!1,this.poison=1}return r(e,t),o(e,[{key:"eatPoison",value:function(){this.poison=-1}},{key:"cure",value:function(){this.poison=1}},{key:"pushLeft",value:function(t){this.speed.x-=this.poison*t*this.acceleration,this.speed.x<-this.maxSpeed&&(this.speed.x=-this.maxSpeed)}},{key:"pushUp",value:function(t){this.speed.y-=this.poison*t*this.acceleration,this.speed.y<-this.maxSpeed&&(this.speed.y=-this.maxSpeed)}},{key:"pushRight",value:function(t){this.speed.x+=this.poison*t*this.acceleration,this.speed.x>this.maxSpeed&&(this.speed.x=this.maxSpeed)}},{key:"pushDown",value:function(t){this.speed.y+=this.poison*t*this.acceleration,this.speed.y>this.maxSpeed&&(this.speed.y=this.maxSpeed)}},{key:"addTail",value:function(){this.tail?this.tail.addTail(this.color):this.tail=new u(this.x,this.y,this.color)}},{key:"randomColor",value:function(){var t=[(256*Math.random()|0).toString(16),"ff","00"];t[0].length<2&&(t[0]="0"+t[0]);for(var e=0;3>e;e++){var i=t[e],n=Math.floor(3*Math.random());t[e]=t[n],t[n]=i}return"#"+t[0]+t[1]+t[2]}},{key:"step",value:function(){this.speed.x>0?(this.speed.x-=this.friction,this.speed.x<0&&(this.speed.x=0)):(this.speed.x+=this.friction,this.speed.x>0&&(this.speed.x=0)),this.speed.y>0?(this.speed.y-=this.friction,this.speed.y<0&&(this.speed.y=0)):(this.speed.y+=this.friction,this.speed.y>0&&(this.speed.y=0)),this.x+=this.speed.x,this.y+=this.speed.y,this.x<this.radius?(this.x=this.radius,this.speed.x*=-1):this.x>this.field.width-this.radius&&(this.x=this.field.width-this.radius,this.speed.x*=-1),this.y<this.radius?(this.y=this.radius,this.speed.y*=-1):this.y>this.field.height-this.radius&&(this.y=this.field.height-this.radius,this.speed.y*=-1),this.tail&&this.tail.follow(this.x,this.y)}},{key:"setFrame",value:function(t,e){this.field.width=t,this.field.height=e}}]),e}(a);e.exports=c},"circle.es6":function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(){n(this,t),this.x=50,this.y=50}return r(t,[{key:"setPosition",value:function(t,e){this.x=t,this.y=e}},{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getRadius",value:function(){return this.radius}},{key:"render",value:function(t){this.tail&&this.tail.render(t),t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),t.fillStyle=this.color,t.fill()}}]),t}();e.exports=o},"food.es6":function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}},a=i("./circle"),u=function(t){function e(t,i){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.radius=15,this.color="#0000FF",this.image=t,this.type=i||"good"}return r(e,t),o(e,[{key:"getType",value:function(){return this.type}},{key:"render",value:function(t){t.drawImage(this.image,this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}]),e}(a);e.exports=u},"tail.es6":function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}},a=i("./circle"),u=function(t){function e(t,i,r){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.radius=15,this.color=this.darken(r),this.x=t,this.y=i,this.tail=!1}return r(e,t),o(e,[{key:"darken",value:function(t){var e=-.05;t=t.substr(1);var i,n,r="#";for(n=0;3>n;n++)i=parseInt(t.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16),r+=("00"+i).substr(i.length);return r}},{key:"addTail",value:function(t){this.tail?this.tail.addTail(this.color):this.tail=new e(this.x,this.y,t)}},{key:"follow",value:function(t,e){this.x+=(t-this.x)/3,this.y+=(e-this.y)/3,this.tail&&this.tail.follow(this.x,this.y)}}]),e}(a);e.exports=u}},"playfield.es6":function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i("./objects/ball"),s=i("./objects/food"),a=window.jQuery,u=function(){function t(e,i){var r=this;n(this,t),this.el=e,this.ctx=e.getContext("2d"),this.images={go:a(i.go).get(0),poison:a(i.poison).get(0)},this.player=new o,this.food=[new s(this.images.go)],this.resize(),a(window).on("resize",function(){r.resize()}),this.force={up:0,left:0,right:0,down:0},a(document).on("keydown",function(t){switch(t.keyCode){case 37:r.force.left=1;break;case 38:r.force.up=1;break;case 39:r.force.right=1;break;case 40:r.force.down=1}}),a(document).on("keyup",function(t){switch(t.keyCode){case 37:r.force.left=0;break;case 38:r.force.up=0;break;case 39:r.force.right=0;break;case 40:r.force.down=0}}),window.DeviceMotionEvent&&a(window).on("deviceorientation",function(t){var e=20,i=window.orientation,n={x:0,y:0};i&&0!==window.orientation?180===window.orientation?(n.x=-t.originalEvent.gamma,n.y=-t.originalEvent.beta):90===window.orientation?(n.x=t.originalEvent.beta,n.y=-t.originalEvent.gamma):-90===window.orientation&&(n.x=-t.originalEvent.beta,n.y=t.originalEvent.gamma):(n.x=t.originalEvent.gamma,n.y=t.originalEvent.beta),n.x&&n.y&&(n.y>e?n.y=e:n.y<-e&&(n.y=-e),n.x>e?n.x=e:n.x<-e&&(n.x=-e),n.y<0?(r.force.up=n.y/-e,r.force.down=0):(r.force.down=n.y/e,r.force.up=0),n.x<0?(r.force.left=n.x/-e,r.force.right=0):(r.force.right=n.x/e,r.force.left=0))}),this.loop()}return r(t,[{key:"detectCollision",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,r=this.food[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;if(Math.pow(this.player.getX()-o.getX(),2)+Math.pow(this.player.getY()-o.getY(),2)<Math.pow(this.player.getRadius()+o.getRadius(),2)){switch(o.getType()){case"good":this.player.addTail(),this.player.cure(),this.placeFoodAtRandomPosition(o);break;case"poison":this.food.splice(this.food.indexOf(o),1),this.player.eatPoison()}if(Math.random()<.1){var a=new s(this.images.poison,"poison");this.food.push(a),this.placeFoodAtRandomPosition(a)}}}}catch(u){e=!0,i=u}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw i}}}},{key:"placeFoodAtRandomPosition",value:function(t){t.setPosition(t.getRadius()+Math.random()*(this.el.width-2*t.getRadius()),t.getRadius()+Math.random()*(this.el.height-2*t.getRadius()))}},{key:"resize",value:function(){var t=this.el.getBoundingClientRect();this.el.width=t.width,this.el.height=t.height,this.player.setFrame(this.el.width,this.el.height),this.player.setPosition(this.el.width/2,this.el.height/2);var e=!0,i=!1,n=void 0;try{for(var r,o=this.food[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;this.placeFoodAtRandomPosition(s)}}catch(a){i=!0,n=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(i)throw n}}this.render()}},{key:"loop",value:function(){var t=this;this.player.pushLeft(this.force.left),this.player.pushUp(this.force.up),this.player.pushRight(this.force.right),this.player.pushDown(this.force.down),this.player.step(),this.detectCollision(),this.render(),requestAnimationFrame(function(){t.loop()})}},{key:"render",value:function(){this.ctx.clearRect(0,0,this.el.width,this.el.height);var t=!0,e=!1,i=void 0;try{for(var n,r=this.food[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;o.render(this.ctx)}}catch(s){e=!0,i=s}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw i}}this.player.render(this.ctx)}}]),t}();e.exports=u},"shapes.es6":function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}},a=i("./component"),u=window.jQuery,c=function(t){function e(t,i){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i),this.supportsSVG=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),this.supportsSVG&&this.injectSprite()}return r(e,t),o(e,[{key:"injectSprite",value:function(){var t=this;u.get(this.data.url,function(e,i){"success"==i?u(document.body).prepend(e):t.injectSprite()},"text")}}]),e}(a);e.exports=c}},"index.es6":function(t,e,i){"use strict";i("./plugins");var n={example:i("./components/example"),shapes:i("./components/shapes"),playfield:i("./components/playfield")},r=[],o=function(t){if(t.name in n){var e=n[t.name],i="string"==typeof t.place?document.querySelector(t.place):t.place,o=new e(i,t.data||{});r.push(o)}};initComponents.map(o),initComponents={push:o}},"plugins.js":function(t,e,i){!function(){for(var t,e=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=i.length,r=window.console=window.console||{};n--;)t=i[n],r[t]||(r[t]=e)}()}}}}})("ballgo/src/scripts/index");